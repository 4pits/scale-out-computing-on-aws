



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.3">
    
    
      
        <title>Job with FlexLM licenses requirements</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/css/custom.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#firewall-configuration" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Scale-Out Computing on AWS Knowledge Base" aria-label="Scale-Out Computing on AWS Knowledge Base" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Scale-Out Computing on AWS Knowledge Base
            </span>
            <span class="md-header-nav__topic">
              
                Job with FlexLM licenses requirements
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/awslabs/scale-out-computing-on-aws/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    awslabs/scale-out-computing-on-aws
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        What is Scale-Out Computing on AWS ?
      </a>
    
  </li>

      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../analytics/build-kibana-dashboards/" class="md-tabs__link">
          Analytics
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../storage/backend-storage-options/" class="md-tabs__link">
          Storage
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../create-your-own-queue/" class="md-tabs__link md-tabs__link--active">
          Tutorials
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../workshops/" class="md-tabs__link">
          Workshops
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Scale-Out Computing on AWS Knowledge Base" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Scale-Out Computing on AWS Knowledge Base
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/awslabs/scale-out-computing-on-aws/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    awslabs/scale-out-computing-on-aws
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="What is Scale-Out Computing on AWS ?" class="md-nav__link">
      What is Scale-Out Computing on AWS ?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../access-soca-cluster/" title="How to access Scale-Out Computing on AWS" class="md-nav__link">
      How to access Scale-Out Computing on AWS
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../install-soca-cluster/" title="Install your Scale-Out Computing on AWS cluster" class="md-nav__link">
      Install your Scale-Out Computing on AWS cluster
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Analytics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Analytics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/build-kibana-dashboards/" title="Create your own analytics dashboard" class="md-nav__link">
      Create your own analytics dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/monitor-cluster-activity/" title="Monitor your cluster and job activity" class="md-nav__link">
      Monitor your cluster and job activity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/review-hpc-costs/" title="Review your HPC costs" class="md-nav__link">
      Review your HPC costs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../analytics/set-up-budget-project/" title="Set up budget per project" class="md-nav__link">
      Set up budget per project
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Storage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Storage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/backend-storage-options/" title="Understand backend storage" class="md-nav__link">
      Understand backend storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../storage/launch-job-with-fsx/" title="Launch a job with FSx for Lustre" class="md-nav__link">
      Launch a job with FSx for Lustre
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../create-your-own-queue/" title="Create your own queue" class="md-nav__link">
      Create your own queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../integration-ec2-job-parameters/" title="Job customization for EC2" class="md-nav__link">
      Job customization for EC2
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Job with FlexLM licenses requirements
      </label>
    
    <a href="./" title="Job with FlexLM licenses requirements" class="md-nav__link md-nav__link--active">
      Job with FlexLM licenses requirements
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#firewall-configuration" class="md-nav__link">
    Firewall Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upload-your-lmutil" class="md-nav__link">
    Upload your lmutil
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-retrieve-number-of-licenses-available" class="md-nav__link">
    How to retrieve number of licenses available
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-scale-out-computing-on-aws" class="md-nav__link">
    Integration with Scale-Out Computing on AWS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../job-start-stop-email-notification/" title="Automatic emails when your job start/stop" class="md-nav__link">
      Automatic emails when your job start/stop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../launch-always-on-instances/" title="Launch AlwaysOn nodes" class="md-nav__link">
      Launch AlwaysOn nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../launch-your-first-job/" title="Launch your first job" class="md-nav__link">
      Launch your first job
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../manage-ldap-users/" title="Centralized user management" class="md-nav__link">
      Centralized user management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../troubleshoot-job-queue/" title="Debug why your jobs are not starting" class="md-nav__link">
      Debug why your jobs are not starting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../update-soca-dns-ssl-certificate/" title="Change your DNS name and SSL certificate" class="md-nav__link">
      Change your DNS name and SSL certificate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../use-custom-ami/" title="Use your own AMI" class="md-nav__link">
      Use your own AMI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Workshops
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Workshops
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/" title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      DVCon
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        DVCon
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/" title="DVCon Workshop Overview" class="md-nav__link">
      DVCon Workshop Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2-3" type="checkbox" id="nav-7-2-3">
    
    <label class="md-nav__link" for="nav-7-2-3">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-2-3">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/modules/01-deploy-env/" title="Lab 1: Deploy Environment" class="md-nav__link">
      Lab 1: Deploy Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/modules/02-web-login/" title="Lab 2: Login to SOCA Console and Launch Remote Desktop Session" class="md-nav__link">
      Lab 2: Login to SOCA Console and Launch Remote Desktop Session
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/modules/03-launch-VCS/" title="Lab 3: Login to Remote Desktop and Launch VCS" class="md-nav__link">
      Lab 3: Login to Remote Desktop and Launch VCS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/modules/07-submit-batch/" title="Lab 5: Submit Batch Workloads" class="md-nav__link">
      Lab 5: Submit Batch Workloads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/modules/08-analytics/" title="Lab 6: Explore Analytics Dashboard" class="md-nav__link">
      Lab 6: Explore Analytics Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/DVCon/modules/09-wrap-up/" title="Wrap-up" class="md-nav__link">
      Wrap-up
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      TKO Scale Out Computing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        TKO Scale Out Computing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/" title="Scaling EDA with Vivado Workshop Overview" class="md-nav__link">
      Scaling EDA with Vivado Workshop Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3-3" type="checkbox" id="nav-7-3-3">
    
    <label class="md-nav__link" for="nav-7-3-3">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-3-3">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/02-deploy-env/" title="Lab 1: Deploy Environment" class="md-nav__link">
      Lab 1: Deploy Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/03-configure-desktop/" title="Lab 2: Configure Remote Desktop" class="md-nav__link">
      Lab 2: Configure Remote Desktop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/04-web-login/" title="Lab 3: Launch Remote Desktop Session" class="md-nav__link">
      Lab 3: Launch Remote Desktop Session
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/06-launch-vivado/" title="Lab 4: Launch Vivado GUI" class="md-nav__link">
      Lab 4: Launch Vivado GUI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/07-submit-batch/" title="Lab 5: Submit Batch Workloads" class="md-nav__link">
      Lab 5: Submit Batch Workloads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/071-budgets/" title="Lab 6: Configure Budgets" class="md-nav__link">
      Lab 6: Configure Budgets
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/08-analytics/" title="Lab 7: Explore Analytics Dashboard" class="md-nav__link">
      Lab 7: Explore Analytics Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/TKO-Scale-Out-Computing/modules/09-wrap-up/" title="Wrap-up" class="md-nav__link">
      Wrap-up
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      reinvent19 MFG405
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        reinvent19 MFG405
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/" title="MFG405 Workshop Overview" class="md-nav__link">
      MFG405 Workshop Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/getting-started/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4-3" type="checkbox" id="nav-7-4-3">
    
    <label class="md-nav__link" for="nav-7-4-3">
      Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-7-4-3">
        Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/02-deploy-env/" title="Lab 1: Deploy Environment" class="md-nav__link">
      Lab 1: Deploy Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/03-configure-desktop/" title="Lab 2: Configure Remote Desktop" class="md-nav__link">
      Lab 2: Configure Remote Desktop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/04-web-login/" title="Lab 3: Launch Remote Desktop Session" class="md-nav__link">
      Lab 3: Launch Remote Desktop Session
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/06-launch-vivado/" title="Lab 4: Launch Vivado GUI" class="md-nav__link">
      Lab 4: Launch Vivado GUI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/07-submit-batch/" title="Lab 5: Submit Batch Workloads" class="md-nav__link">
      Lab 5: Submit Batch Workloads
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/08-analytics/" title="Lab 6: Explore Analytics Dashboard" class="md-nav__link">
      Lab 6: Explore Analytics Dashboard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/09-wrap-up/" title="Wrap-up" class="md-nav__link">
      Wrap-up
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../workshops/reinvent19-MFG405/modules/z-budgets/" title="." class="md-nav__link">
      .
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#firewall-configuration" class="md-nav__link">
    Firewall Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upload-your-lmutil" class="md-nav__link">
    Upload your lmutil
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-retrieve-number-of-licenses-available" class="md-nav__link">
    How to retrieve number of licenses available
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-with-scale-out-computing-on-aws" class="md-nav__link">
    Integration with Scale-Out Computing on AWS
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test" class="md-nav__link">
    Test
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/awslabs/scale-out-computing-on-aws/edit/master/docs/tutorials/job-licenses-flexlm.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Job with FlexLM licenses requirements</h1>
                
                <p>In this page, we will see how Scale-Out Computing on AWS manages job and capacity provisioning based on license availabilities.</p>
<div class="admonition configuration">
<p class="admonition-title">Example configuration</p>
<p>Test settings used for all examples:</p>
<ul>
<li>License Server Hostname: <mark><code class="codehilite"><span class="err">licenses.soca.dev</span></code></mark></li>
<li>License Server port: <mark><code class="codehilite"><span class="err">5000</span></code></mark></li>
<li>License Daemon port: <mark><code class="codehilite"><span class="err">5001</span></code></mark></li>
<li>Feature to check: <mark><code class="codehilite"><span class="err">Audio_System_Toolbox</span></code></mark></li>
<li>Scale-Out Computing on AWS cluster name: <mark><code class="codehilite"><span class="err">rctest</span></code></mark></li>
</ul>
</div>
<h2 id="firewall-configuration">Firewall Configuration<a class="headerlink" href="#firewall-configuration" title="Permanent link">&para;</a></h2>
<p>Depending your configuration, you may need to edit the security groups to allow traffic to/from your license servers.</p>
<div class="admonition info">
<p class="admonition-title">FlexLM server installed on Scheduler host</p>
<p>No further actions are required if you have installed your FlexLM server on the scheduler host as Scale-Out Computing on AWS automatically whitelist all traffic between the scheduler and the compute nodes.</p>
</div>
<div class="admonition warning flexlm tcp ports">
<p class="admonition-title">Warning</p>
<p>FlexLM configure two ports for each application (DAEMON and SERVER ports). You need to whitelist both of them.</p>
</div>
<p><strong>Allow traffic from your license server IP to Scale-Out Computing on AWS</strong></p>
<p>Assuming my license server IP is <mark>10.0.15.18</mark>, simply go to the EC2 console, locate your <code class="codehilite"><span class="err">Scheduler</span></code> and <code class="codehilite"><span class="err">ComputeNode</span></code> security groups (filter by your cluster name) associated to your Scale-Out Computing on AWS cluster and whitelist both SERVER and DAEMON ports:</p>
<p><img alt="" src="../../imgs/flexlm-1.png" /></p>
<p><strong>Allow traffic from Scale-Out Computing on AWS to your license server</strong></p>
<p>Since FlexLM use client/server protocol, you will need to authorize traffic coming from Scale-Out Computing on AWS to your license servers for both SERVER and DAEMON ports. You will need to whitelist the IP for your scheduler as well as the NAT Gateway used by the compute nodes.
Your Scheduler Public IP is listed on CloudFormation, to retrieve your NAT Gateway IP, visit VPC console, select NAT Gateway and find the NAT Gateway IP associated to your Scale-Out Computing on AWS cluster.
<img alt="" src="../../imgs/flexlm-2.png" /></p>
<h2 id="upload-your-lmutil">Upload your lmutil<a class="headerlink" href="#upload-your-lmutil" title="Permanent link">&para;</a></h2>
<p>lmutil binary is not included with Scale-Out Computing on AWS. You are required to upload it manually and update <code class="codehilite"><span class="err">/apps/soca/cluster_manager/license_check.py</span></code> with the location of your file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You do not need to install FlexLM server manager. Only <code class="codehilite"><span class="err">lmutil</span></code> binary is required.</p>
</div>
<h2 id="how-to-retrieve-number-of-licenses-available">How to retrieve number of licenses available<a class="headerlink" href="#how-to-retrieve-number-of-licenses-available" title="Permanent link">&para;</a></h2>
<p>Scale-Out Computing on AWS includes a script (<code class="codehilite"><span class="err">/apps/soca/cluster_manager/license_check.py</span></code>) which output the number of FlexLM available for a given feature. This script takes the following arguments:</p>
<ul>
<li>-s: The license server hostname</li>
<li>-p: The port used by your flexlm deamon</li>
<li>-f: The feature name <mark>(case sensitive)</mark></li>
<li>(Optional) -m: Reserve licenses number for non HPC usage</li>
</ul>
<p>Let say you have 30 Audio_System_Toolbox licenses and 4 are currently in use. The command below will list how many licenses are currently available to use for your jobs:
<div class="codehilite"><pre><span></span><code>license_check.py -s licenses.soca.dev -p <span class="m">5000</span> -f Audio_System_Toolbox
<span class="m">26</span>
</code></pre></div>
Now let's say you want to reserve 15 licenses for non HPC/Scale-Out Computing on AWS usage:
<div class="codehilite"><pre><span></span><code>license_check.py -s licenses.soca.dev -p <span class="m">5000</span> -f Audio_System_Toolbox -m <span class="m">15</span> 
<span class="m">11</span>
</code></pre></div></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><code class="codehilite"><span class="err">license_check.py</span></code> is simply a <code class="codehilite"><span class="err">lmutil</span></code> wrapper. You can get the same output by running the command below and adding some regex validations. You can edit the script to match your own requirements if needed
<div class="codehilite"><pre><span></span><code>lmutil lmstat -a -c <span class="m">5000</span>@licenses-soca.dev <span class="p">|</span> grep <span class="s2">&quot;Users of Audio_System_Toolbox:&quot;</span>
</code></pre></div></p>
</div>
<h2 id="integration-with-scale-out-computing-on-aws">Integration with Scale-Out Computing on AWS<a class="headerlink" href="#integration-with-scale-out-computing-on-aws" title="Permanent link">&para;</a></h2>
<div class="admonition danger">
<p class="admonition-title">IMPORTANT</p>
<p>The name of the resource <strong>must</strong> be <code class="codehilite"><span class="err">*_lic_*</span></code>. We recommend using <code class="codehilite"><span class="err">&lt;application&gt;_lic_&lt;feature_name&gt;</span></code></p>
</div>
<p>Update your <code class="codehilite"><span class="err">/apps/soca/cluster_manager/settings/licenses_mapping.yml</span></code> and create a new resource. This file must follow the YAML syntax. </p>
<div class="codehilite"><pre><span></span><code><span class="c1"># There is no requirements for section names, but I recommend having 1 section = 1 application</span>

<span class="nt">matlab</span><span class="p">:</span>
<span class="hll">  <span class="nt">matlab_lic_audiosystemtoolbox</span><span class="p">:</span> <span class="s">&quot;/apps/soca/cluster_manager/license_check.py</span><span class="nv"> </span><span class="s">-s</span><span class="nv"> </span><span class="s">licenses.soca.dev</span><span class="nv"> </span><span class="s">-p</span><span class="nv"> </span><span class="s">5000</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">Audio_System_Toolbox&quot;</span>
</span>
<span class="c1"># Example for other daemons/features</span>
<span class="nt">comsol</span><span class="p">:</span>
  <span class="nt">comsol_lic_acoustic</span><span class="p">:</span> <span class="s">&quot;/apps/soca/cluster_manager/license_check.py</span><span class="nv"> </span><span class="s">-s</span><span class="nv"> </span><span class="s">licenses.soca.dev</span><span class="nv"> </span><span class="s">-p</span><span class="nv"> </span><span class="s">27718</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">ACOUSTICS&quot;</span>
  <span class="nt">comsol_lic_cadimport</span><span class="p">:</span> <span class="s">&quot;/apps/soca/cluster_manager/license_check.py</span><span class="nv"> </span><span class="s">-s</span><span class="nv"> </span><span class="s">licenses.soca.dev</span><span class="nv"> </span><span class="s">-p</span><span class="nv"> </span><span class="s">27718</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">CADIMPORT&quot;</span>

<span class="nt">synopsys</span><span class="p">:</span>
  <span class="nt">synopsys_lic_testbenchruntime</span><span class="p">:</span> <span class="s">&quot;/apps/soca/cluster_manager/license_check.py</span><span class="nv"> </span><span class="s">-s</span><span class="nv"> </span><span class="s">licenses.soca.dev</span><span class="nv"> </span><span class="s">-p</span><span class="nv"> </span><span class="s">27020</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">VT_TestbenchRuntime&quot;</span>
  <span class="nt">synopsys_lic_vcsruntime</span><span class="p">:</span> <span class="s">&quot;/apps/soca/cluster_manager/license_check.py</span><span class="nv"> </span><span class="s">-s</span><span class="nv"> </span><span class="s">licenses.soca.dev</span><span class="nv"> </span><span class="s">-p</span><span class="nv"> </span><span class="s">27020</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">VCSRuntime_Net&quot;</span>
  <span class="nt">synopsys_lic_vipambaaxisvt</span><span class="p">:</span> <span class="s">&quot;/apps/soca/cluster_manager/license_check.py</span><span class="nv"> </span><span class="s">-s</span><span class="nv"> </span><span class="s">licenses.soca.dev</span><span class="nv"> </span><span class="s">-p</span><span class="nv"> </span><span class="s">27020</span><span class="nv"> </span><span class="s">-f</span><span class="nv"> </span><span class="s">VIP-AMBA-AXI-SVT&quot;</span>
</code></pre></div>

<p>This parameter will let Scale-Out Computing on AWS knows your license mapping and capacity will only be provisioned if enough licenses are available based on job's requirements.</p>
<p>Since you are about to create a new custom resource, additional configuration is required at the scheduler level.
On the scheduler host, edit <mark><code class="codehilite"><span class="err">/var/spool/pbs/sched_priv/sched_config</span></code></mark> and add a new <code class="codehilite"><span class="err">server_dyn_res</span></code></p>
<div class="codehilite"><pre><span></span><code>server_dyn_res: <span class="s2">&quot;matlab_lic_audiosystemtoolbox !/apps/soca/cluster_manager/license_check.py -s licenses.soca.dev -p 5000 -f Audio_System_Toolbox&quot;</span>
</code></pre></div>

<p>On the same file, add your new resource under <code class="codehilite"><span class="err">resources</span></code> section. This section will not allow a job to run if the amount of assigned resources exceeds the available amount.</p>
<div class="codehilite"><pre><span></span><code>resources: <span class="s2">&quot;matlab_lic_audiosystemtoolbox, ncpus, mem, arch, host, vnode, aoe, eoe, compute_node&quot;</span>
</code></pre></div>

<p>Finally, edit <mark><code class="codehilite"><span class="err">/var/spool/pbs/server_priv/resourcedef</span></code></mark> and add your new resource with <code class="codehilite"><span class="err">type=long</span></code></p>
<div class="codehilite"><pre><span></span><code>...
ht_support <span class="nv">type</span><span class="o">=</span>string
base_os <span class="nv">type</span><span class="o">=</span>string
fsx_lustre_bucket <span class="nv">type</span><span class="o">=</span>string
fsx_lustre_size <span class="nv">type</span><span class="o">=</span>string
fsx_lustre_dns <span class="nv">type</span><span class="o">=</span>string
<span class="hll">matlab_lic_audiosystemtoolbox <span class="nv">type</span><span class="o">=</span>long
</span></code></pre></div>

<p>Once done, restart the scheduler using <code class="codehilite"><span class="err">service pbs restart</span></code></p>
<h2 id="test">Test<a class="headerlink" href="#test" title="Permanent link">&para;</a></h2>
<p>For this example, let's assume we do have 3 "Audio_System_Toolbox" licenses available
<div class="codehilite"><pre><span></span><code>/apps/soca/cluster_manager/license_check.py -s licenses.soca.dev -p <span class="m">5000</span> -f Audio_System_Toolbox
<span class="m">3</span>
</code></pre></div></p>
<p>Let's try to submit a job which require 5 licenses</p>
<div class="codehilite"><pre><span></span><code>qsub -l <span class="nv">matlab_lic_audiosystemtoolbox</span><span class="o">=</span><span class="m">5</span> -- /bin/sleep <span class="m">600</span>
<span class="m">31</span>.ip-20-0-2-69
</code></pre></div>

<p>Let's check the log files under <code class="codehilite"><span class="err">/apps/soca/cluster_manager/log/&lt;QUEUE_NAME&gt;</span></code>. Scale-Out Computing on AWS will ignore this job due to the lack of licenses available</p>
<div class="codehilite"><pre><span></span><code><span class="hll"> [157] [INFO] [License Available: {&#39;matlab_lic_audiosystemtoolbox&#39;: 3}]
</span> [157] [INFO] [Next User is mickael]
 [157] [INFO] [Next Job for user is [&#39;31&#39;]]
 [157] [INFO] [Checking if we have enough resources available to run job_31]
 ....
<span class="hll"> [157] [INFO] [No default value for matlab_lic_audiosystemtoolbox. Creating new entry with value: 5]
</span><span class="hll"> [157] [INFO] [Ignoring job_31 as we we dont have enough: matlab_lic_audiosystemtoolbox]
</span></code></pre></div>

<p>If you have multiple jobs in the queue, the license counter is dynamically updated each time the dispatcher script is running (every 3 minutes):
<div class="codehilite"><pre><span></span><code><span class="hll"> [157] [INFO] [License Available: {&#39;matlab_lic_audiosystemtoolbox&#39;: 10}]
</span> [157] [INFO] [Checking if we have enough resources available to run job_31]
 ....
 [157] [INFO] [No default value for matlab_lic_audiosystemtoolbox. Creating new entry with value: 5]
 # Next job in in queue
<span class="hll"> [157] [INFO] [License Available: {&#39;matlab_lic_audiosystemtoolbox&#39;: 5}]
</span> [157] [INFO] [Checking if we have enough resources available to run job_32]
 ....
 [157] [INFO] [No default value for matlab_lic_audiosystemtoolbox. Creating new entry with value: 5]
 # Next job in in queue
<span class="hll"> [157] [INFO] [License Available: {&#39;matlab_lic_audiosystemtoolbox&#39;: 0}]
</span> [157] [INFO] [Checking if we have enough resources available to run job_33]
 ....
 [157] [INFO] [No default value for matlab_lic_audiosystemtoolbox. Creating new entry with value: 5]
 [157] [INFO] [Ignoring job_33 as we we dont have enough: matlab_lic_audiosystemtoolbox]
</code></pre></div></p>
<div class="admonition danger">
<p class="admonition-title">Scale-Out Computing on AWS ensures licenses provisioned for given jobs are in use before provisioning capacity for new jobs</p>
<p>Let say you have 10 licenses available and you submit <code class="codehilite"><span class="err">job1</span></code> and <code class="codehilite"><span class="err">job2</span></code> which both have a requirement of 5 licenses. Scale-Out Computing on AWS will determine licenses are available and will start provision the capacity. </p>
<p>Shortly after you submit <code class="codehilite"><span class="err">job3</span></code> which require another 5 licenses. The first 2 jobs may not have started yet, meaning you still have 10 licenses available (even though the 10 licenses will be used by job1 and job2 as soon as they start). 
In that case we skip <code class="codehilite"><span class="err">job3</span></code> until both <code class="codehilite"><span class="err">job1</span></code> and <code class="codehilite"><span class="err">job2</span></code> and in running state.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Invalid Resource</p>
<p>You can not submit if you are using an invalid resource (aka: resource not recognized by the scheduler). If you are getting this error, refer to section <mark>Integration with Scale-Out Computing on AWS</mark>)
<div class="codehilite"><pre><span></span><code>qsub -l <span class="nv">matlab_lic_fakeresource</span><span class="o">=</span><span class="m">3</span> -- /bin/sleep <span class="m">60</span>
qsub: Unknown resource Resource_List.matlab_lic_fakeresource
</code></pre></div></p>
</div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../integration-ec2-job-parameters/" title="Job customization for EC2" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Job customization for EC2
              </span>
            </div>
          </a>
        
        
          <a href="../job-start-stop-email-notification/" title="Automatic emails when your job start/stop" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Automatic emails when your job start/stop
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>